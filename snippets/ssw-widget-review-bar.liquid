{% comment %}
/**************************************************
* DO NOT MODIFY THIS FILE!!!                      *
* IT WILL BE OVERWRITTEN BY UPDATES FROM GROWAVE! *
**************************************************/
{% endcomment %}
{% assign ssw_review_enabled = shop.metafields.ssw['review_enabled'] | plus: 0 %}
{% if shop.customer_accounts_enabled and ssw_review_enabled == 1 and shop.metafields.ssw.settings.reviews_widget_enabled == 1 %}
  {% if shop.metafields.ssw.settings.reviews_tab_position == 'left' %}
    {% assign direction = 'left' %}
    {% assign tab_position = 'ssw-left-top' %}
  {% else %}
    {% assign direction = 'right' %}
    {% assign tab_position = 'ssw-right-top' %}
  {% endif %}
  <div id="ssw-widget-review-bar" class="ssw-reviews-widget {{ tab_position }}" data-direction="{{ direction }}">
    <div class="ssw-review-side-backdrop"></div>
    <div class="ssw-reviews-caption {{ tab_position }}" data-direction="{{ direction }}">
      <div class="ssw-reviews-caption__element">
        <span class="ssw-mobile-hidden">
          <i class="gw-review-tab-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15.476" viewBox="0 0 16 15.476">
                            <path id="Path_1859" data-name="Path 1859" d="M7.925,12.426l4.039,2.908a.857.857,0,0,0,1.293-.969L11.641,9.679l3.878-2.747A.755.755,0,0,0,15.2,5.478H10.349L8.733.631a.739.739,0,0,0-1.454,0L5.663,5.478H.816A.8.8,0,0,0,.331,6.932L4.209,9.679,2.755,14.365a.887.887,0,0,0,1.293.969Z" transform="translate(0.013 -0.025)" fill="#fff"></path>
                        </svg></i>
          {{ "socialshopwave.reviews" | t }}</span>
        <span class="ssw-mobile-visible"><i class="gw-review-tab-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="15.476" viewBox="0 0 16 15.476">
                            <path id="Path_1859" data-name="Path 1859" d="M7.925,12.426l4.039,2.908a.857.857,0,0,0,1.293-.969L11.641,9.679l3.878-2.747A.755.755,0,0,0,15.2,5.478H10.349L8.733.631a.739.739,0,0,0-1.454,0L5.663,5.478H.816A.8.8,0,0,0,.331,6.932L4.209,9.679,2.755,14.365a.887.887,0,0,0,1.293.969Z" transform="translate(0.013 -0.025)" fill="#fff"></path>
                        </svg></i></span>
      </div>
    </div>
    <div id="ssw-review-widget-content" class="ssw-reviews-wlist {{ tab_position }}" data-module="recommendation" data-name="reviewsPopup" data-metafield_key="review_tab">
      <div class="ssw-loader-wrapper ssw-text-center"><span class="ssw-spin ssw-loader"></span></div>
      <script type="text/javascript">
        /* global sswRun */
        if (typeof sswRun !== 'undefined') {
          sswRun(function ($) {
            let loader = Ssw.gwAssetsManifestLoader;
            Promise.all([
              loader.requireByKey("core.critical.css", "STYLE"),
              loader.requireByKey("review.critical.css", "STYLE"),
              loader.requireByKey("review.popup.critical.js", "SCRIPT")
            ]).then(function () {
              gwReviewPopupCriticalInit();
            });
          });
        }
      </script>
    </div>
  </div>
{% endif %}